<!DOCTYPE html>

<head>
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.3/dist/JsBarcode.all.min.js"></script>
</head>

<body>

  <head>
    <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css' />
  </head>

  <body>
    <div id="HUNGRYHARVEST" ng-hide="true">
      <style>
        #hh_orderNo img {
          width: 150px;
          height: 40px;
        }

        .divMainNoon {
          -webkit-column-break-inside: avoid;
          /* Chrome, Safari, Opera */
          page-break-inside: avoid;
          /* Firefox */
          break-inside: avoid;
          /* IE 10+ */
          margin-left: 1em;
        }

        .fontFamily {
          font-family: 'Arial';
        }

        .listTitleCSS {
          text-align: left;
          font-size: 13px;
          font-family: 'Arial';
        }

        .listCSS,
        .addressCSS {
          font-size: 13px;
          font-family: 'Arial';
        }

        .ellipsisOverflowSpan {
          overflow: hidden;
          white-space: nowrap;
          width: 80%;
          display: inline-block;
        }

        .branchTripSequence {
          font-size: 20px;
          font-weight: bold;
          font-family: 'Arial';
        }

        @media print {
          .divMainNoon {
            -webkit-column-break-inside: avoid;
            /* Chrome, Safari, Opera */
            page-break-inside: avoid;
            /* Firefox */
            break-inside: avoid;
            /* IE 10+ */
          }

          .backgroundColor {
            background-color: black;
            color: white;
            -webkit-print-color-adjust: exact;
          }
        }
      </style>

      <div class="divMainNoon" id='ngApp-#@--shipmentId--@#' ng-controller='ngController-#@--shipmentId--@#' style="width:550px;height:100%;padding:3px ">
        <div id="awbNoPrint">
          <div class="row fontFamily" style="height: 100%;border: 2px solid #d6d6d6;font-size: 13px;">
            <div class=""
              style="margin-left:5px;margin-top:7px;width:15% !important;text-align:center; float: left;">
              <span class="backgroundColor" style="padding: 2px;background-color: black;color: white;"
                ng-if="'#@--cf_customizedHarvest--@#'">{{'#@--cf_customizedHarvest--@#'}}</span>
            </div>
            <div style="margin-top:4px;width:68% !important;text-align:center;float: left;font-size: 20px;font-family: 'Arial'"
          class="ellipsisOverflowSpan">
              <b>{{'#@--cf_standardHarvest--@#'}}</b>
            </div>
            <div class=""
              style="margin-top: 7px;width:15% !important;text-align:center; float: right;font-size: 13px;">
              #@--startTimeWindow--@#
            </div>
          </div>
          <div class="row"
            style="min-height:525px;height:525px;border-right: 2px solid #d6d6d6;border-left: 2px solid #d6d6d6;"
            class="col-sm-12 col-sm-12 " >
            <div ng-repeat="crate in crates" class="col-sm-6">
              <div 
                style="padding-left: 5px;float: left;height:525px; width: 100%; border-right:2px solid #d6d6d6;"
                ng-if="(crate.crateType.toUpperCase() === '@dynamicLabel(hungryHarvestAddOn)'.toUpperCase() || ($index === 0 && !foundAddOnContents))">
                <span class="listTitleCSS" ng-if="!foundAddOnContents">&nbsp;</span>
                <span class="listTitleCSS"
                  ng-if="crate.crateType.toUpperCase() === '@dynamicLabel(hungryHarvestAddOn)'.toUpperCase()"><b><u
                      style="padding-right: 5%;">Qty</u> <u>{{crate.crateType}}</u></b></span>
                <div style="list-style-type:none; padding:5px;margin:0px;" class="listCSS"
                  ng-if="crate.crateType.toUpperCase() === '@dynamicLabel(hungryHarvestAddOn)'.toUpperCase()">
                  <div ng-repeat="items in crate.shipmentlineitems | limitTo: 22"
                    style="height: 21px;position:relative;font-size: 12px;">
                    <span style="display: inline-block;width:25px;"><b>{{items.itemQuantity}}</b></span><span
                      style="position:absolute;" class="ellipsisOverflowSpan">{{items.itemName}}</span>
                  </div>
                  <div ng-if="crate.shipmentlineitems && crate.shipmentlineitems.length > 22">more...</div>
                </div>
              </div>
              <div class="" style="padding-left: 5px;float: left;height:100%; width: 100%;position: relative;"
                ng-if="(crate.crateType.toUpperCase() === '@dynamicLabel(hungryHarvestContents)'.toUpperCase() || ($index === 0 && !foundHarvestContents))">
                <div style="height:466px;">
                  <span class="listTitleCSS"
                    ng-if="crate.crateType.toUpperCase() === '@dynamicLabel(hungryHarvestContents)'.toUpperCase()"><b><u
                        style="padding-right: 5%;">Qty</u> <u> {{crate.crateType}}</u></b></span>
                  <div style="list-style-type:none; padding:5px;margin:0px;" class="listCSS"
                    ng-if="crate.crateType.toUpperCase() === '@dynamicLabel(hungryHarvestContents)'.toUpperCase()">
                    <div ng-repeat="items in crate.shipmentlineitems | limitTo: 20"
                      style="height: 21px;position:relative;font-size: 12px;">
                      <span style="display: inline-block;width:25px;"><b>{{items.itemQuantity}}</b></span><span
                        style="position:absolute;" class="ellipsisOverflowSpan"> {{items.itemName}}</span>
                    </div>
                    <div ng-if="crate.shipmentlineitems && crate.shipmentlineitems.length > 20">more...</div>
                  </div>
                </div>
                <div style="font-size:10.5px;font-family: 'Arial'; line-height: 1.5;position:absolute; bottom:0;">{{'@dynamicLabel(hungryHarvestDisclaimer)'}}</div>
              </div>
            </div>
          </div>
          <div class="row" style="height: 100px;border: 2px solid #d6d6d6;"  >
            <div ng-repeat="crate in crates" style='width: 48%;'>
              <div class=" backgroundColor"
                ng-if="(crate.crateType.toUpperCase() === '@dynamicLabel(hungryHarvestNeverList)'.toUpperCase()) || (!foundNeverList && $index === 0 ) "
                style="height: 100px;padding-left: 5px;float: left;background-color: black;color: white;">
                <div class="listTitleCSS" style="height:20px;" ng-if="!foundNeverList">&nbsp;</div>
                <div class="listTitleCSS" style="height:20px;"
                  ng-if="crate.crateType.toUpperCase() === '@dynamicLabel(hungryHarvestNeverList)'.toUpperCase()"><span><b><u
                        style="font-family: 'Arial';">{{crate.crateType}}:</u></b></span></div>
                <div class=" listCSS" style="float:left;width:48%;"
                  ng-repeat="items in crate.shipmentlineitems | limitTo:4">
                  <div  style="height:20px;" class="ellipsisOverflowSpan">{{items.itemName}}
                  </div>
                </div>
                <div style='clear: both;' ng-if="crate.shipmentlineitems && crate.shipmentlineitems.length > 2 ">more...
                </div>
              </div>
              <div class="" ng-if="crate.crateType.toUpperCase() === '@dynamicLabel(hungryHarvestRemoveItem)'.toUpperCase()"
                style="height: 100px;padding-left: 5px;float: left;">
                <div class="listTitleCSS" style="height:20px;"><span><b><u
                        style="font-family: 'Arial';">{{crate.crateType}}:</u></b></span></div>
                <div class=" listCSS" style="float:left;width:48%;"
                  ng-repeat="items in crate.shipmentlineitems | limitTo:4">
                  <div  style="height:20px;" class="ellipsisOverflowSpan">{{items.itemName}}
                  </div>
                </div>
                <div ng-if="crate.shipmentlineitems && crate.shipmentlineitems.length > 2 ">more...
                </div>
              </div>
            </div>
          </div>
          <div class="row"
            style="border-right: 2px solid #d6d6d6;border-left: 2px solid #d6d6d6;border-bottom: 2px solid #d6d6d6;">
            <div class="col-sm-12 col-sm-12 "
              style="position:relative;height:100%; box-shadow:0px 0px 0px 1px white inset; ">
              <div class="col-sm-5 col-sm-5 "
                style="width:53% !important;box-shadow:0px 0px 0px 1px white inset; float: left;padding: 10px; ">
                <span style="font-family: 'Arial';font-size:22px;display:block;"><b>{{'#@--deliverName--@#'}}</b></span>
                <span style="word-wrap: break-word;line-height: 20px;" class="addressCSS">{{'#@--deliverStreetName--@#'}}<span
                    ng-if="'#@--deliverApartment--@#' && '#@--deliverStreetName--@#'">,&nbsp;</span>{{'#@--deliverApartment--@#'}}</span><br>
                <span style="word-wrap: break-word;line-height: 20px;" class="addressCSS">{{'#@--deliverCity--@#'}}<span
                    ng-if="'#@--deliverCity--@#' && '#@--stateCode--@#'">,&nbsp;</span>{{'#@--deliverState--@#'}}
                  {{'#@--deliverPincode--@#'}}</span>
              </div>
              <div class="col-sm-7 col-sm-7 "
                style="position:inherit;top:10%;width:40% !important;top:15%;padding-left: 0px !important;padding-right: 0px !important;float: right ">
                <div style="width:auto;text-align: center;">
                  <span class="branchTripSequence">{{'#@--pickupName--@#' | uppercase | limitTo: 8}} <sup
                      ng-if="'#@--tripNo--@#'">R</sup>{{'#@--tripNo--@#' | limitTo: -4}} <sup
                      ng-if="'#@--deliveryOrder--@#'">S</sup>{{'#@--deliveryOrder--@#'}}</span>
                </div>
                <div style="width:auto; border:1px solid white;">
                  <!-- <barcode id="hh_orderNo" type="code128b " render="img" string="{{row.orderNo}} " options="bcOptions"
                    style="height: 40px;float: right; "></barcode> -->
                    <div style='float: right;'>
                      <svg class='orderNoBarcode-#@--orderNo--@#-BarcodePlaceHolder'></svg>
                    </div>
                  <span class="addressCSS"
                    style="line-height: 14px;font-style:normal;text-align:left;float: right;margin-right:2px; ">{{'#@--orderNo--@#'}}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script>
      angular.module('ngApp-#@--shipmentId--@#', []).controller('ngController-#@--shipmentId--@#', function ($scope) {
        $scope.customFieldList = JSON.parse('#@--customFieldListString--@#' || '[]');
        $scope.crates = JSON.parse('#@--cratesJSONString--@#' || []);

        $scope.foundAddOnContents = $scope.crates.some(function(crateObj) { return crateObj.crateType.toUpperCase() === '@dynamicLabel(hungryHarvestAddOn)'.toUpperCase() })
        $scope.foundHarvestContents = $scope.crates.some(function(crateObj) { return crateObj.crateType.toUpperCase() === '@dynamicLabel(hungryHarvestContents)'.toUpperCase() })
        $scope.foundNeverList = $scope.crates.some(function(crateObj) { return crateObj.crateType.toUpperCase() === '@dynamicLabel(hungryHarvestNeverList)'.toUpperCase() })
      });
      angular.bootstrap(document.getElementById("ngApp-#@--shipmentId--@#"), ['ngApp-#@--shipmentId--@#']);

      JsBarcode('.orderNoBarcode-#@--orderNo--@#-BarcodePlaceHolder', '#@--orderNo--@#', {displayValue: false, height: '40px', width: 1 });
    </script>
  </body>
</body>

</html>