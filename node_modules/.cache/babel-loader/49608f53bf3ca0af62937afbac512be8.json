{"ast":null,"code":"import _objectSpread from \"/Users/farhanansari/Desktop/CODE/PrxProject/untitled folder/reactStoryBook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/farhanansari/Desktop/CODE/PrxProject/untitled folder/reactStoryBook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/farhanansari/Desktop/CODE/PrxProject/untitled folder/reactStoryBook/src/components/molecules/InlinePopup/index.tsx\";\n\nimport React, { useEffect, useState } from 'react';\nimport Header from './Components/Header';\nimport { InlinePopStyled, InlinePopupWrapper } from './styled'; // import Draggable from '../../organisms/AdvancedFilter/components/Draggable'\n\nvar InlinePopup = function InlinePopup(_ref) {\n  var isOpen = _ref.isOpen,\n      title = _ref.title,\n      onClose = _ref.onClose,\n      width = _ref.width,\n      height = _ref.height,\n      style = _ref.style,\n      children = _ref.children,\n      content = _ref.content,\n      id = _ref.id,\n      className = _ref.className;\n  var node = React.useRef(null);\n  var triggerElementRef = React.createRef();\n\n  var _useState = useState(isOpen),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      right = _useState4[0],\n      setRight = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      left = _useState6[0],\n      setLeft = _useState6[1];\n\n  var _useState7 = useState('unset'),\n      _useState8 = _slicedToArray(_useState7, 2),\n      top = _useState8[0],\n      setTop = _useState8[1];\n\n  var _useState9 = useState('unset'),\n      _useState10 = _slicedToArray(_useState9, 2),\n      bottom = _useState10[0],\n      setBottom = _useState10[1];\n\n  var handleOutsideClick = function handleOutsideClick(e) {\n    var n = node.current;\n    if (n.contains(e.target)) return;\n    setOpen(false);\n  };\n\n  React.useEffect(function () {\n    document.addEventListener('mousedown', handleOutsideClick);\n    return function () {\n      document.removeEventListener('mousedown', handleOutsideClick);\n    };\n  }, []);\n  useEffect(function () {\n    setOpen(isOpen);\n  }, [isOpen]);\n\n  var handleOpen = function handleOpen() {\n    var _triggerElementRef$cu, _clientRect$;\n\n    setOpen(!open);\n    var popUpWidth = typeof width === 'string' ? parseInt(width.replace('px', '')) : width;\n    var popUpHeight = typeof height === 'string' ? parseInt(height.replace('px', '')) : height;\n    var clientRect = (_triggerElementRef$cu = triggerElementRef.current) === null || _triggerElementRef$cu === void 0 ? void 0 : _triggerElementRef$cu.getClientRects();\n    setTop((clientRect === null || clientRect === void 0 ? void 0 : (_clientRect$ = clientRect[0]) === null || _clientRect$ === void 0 ? void 0 : _clientRect$.height) || 0);\n\n    if (clientRect && clientRect[0].right >= popUpWidth) {\n      setRight(0);\n      setLeft('auto');\n    } else {\n      setLeft('auto');\n      setRight('unset');\n    }\n\n    if (clientRect && popUpHeight && window.screen.height - (clientRect[0].top + clientRect[0].height) > popUpHeight) {\n      var _clientRect$2;\n\n      setTop((clientRect === null || clientRect === void 0 ? void 0 : (_clientRect$2 = clientRect[0]) === null || _clientRect$2 === void 0 ? void 0 : _clientRect$2.height) || 0);\n      setBottom('unset');\n    } else {\n      setTop('unset');\n      setBottom((clientRect === null || clientRect === void 0 ? void 0 : clientRect[0].height) || 0); // setTop(\n      //   (clientRect &&\n      //     clientRect?.[0]?.height - (popUpHeight + clientRect?.[0]?.height)) ||\n      //     0\n      // )\n    }\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n    onClose && onClose();\n  };\n\n  return /*#__PURE__*/React.createElement(InlinePopupWrapper, {\n    id: id,\n    ref: node,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: triggerElementRef,\n    onClick: handleOpen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, children), open && /*#__PURE__*/React.createElement(InlinePopStyled, {\n    style: _objectSpread({\n      position: 'absolute',\n      right: right,\n      left: left,\n      top: top,\n      bottom: bottom,\n      zIndex: 1\n    }, style),\n    width: typeof width === 'string' ? parseInt(width.replace('px', '')) : width,\n    height: typeof height === 'string' ? parseInt(height.replace('px', '')) : height,\n    className: \"InlinePopUpContainer \".concat(className),\n    id: id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    closeButton: true,\n    handleClose: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, title), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, content, \" \")));\n};\n\nexport default InlinePopup;","map":{"version":3,"sources":["/Users/farhanansari/Desktop/CODE/PrxProject/untitled folder/reactStoryBook/src/components/molecules/InlinePopup/index.tsx"],"names":["React","useEffect","useState","Header","InlinePopStyled","InlinePopupWrapper","InlinePopup","isOpen","title","onClose","width","height","style","children","content","id","className","node","useRef","triggerElementRef","createRef","open","setOpen","right","setRight","left","setLeft","top","setTop","bottom","setBottom","handleOutsideClick","e","n","current","contains","target","document","addEventListener","removeEventListener","handleOpen","popUpWidth","parseInt","replace","popUpHeight","clientRect","getClientRects","window","screen","handleClose","position","zIndex"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Header from './Components/Header'\nimport { IInlinePopupProps } from './interfaces'\nimport { InlinePopStyled, InlinePopupWrapper } from './styled'\n// import Draggable from '../../organisms/AdvancedFilter/components/Draggable'\n\nconst InlinePopup = ({\n  isOpen,\n  title,\n  onClose,\n  width,\n  height,\n  style,\n  children,\n  content,\n  id,\n  className\n}: IInlinePopupProps) => {\n  const node = React.useRef(null)\n  const triggerElementRef = React.createRef<HTMLDivElement>()\n  const [open, setOpen] = useState(isOpen)\n  const [right, setRight] = useState<number | 'auto' | 'unset'>(0)\n  const [left, setLeft] = useState<number | 'auto' | 'unset'>(0)\n  const [top, setTop] = useState<number | 'unset'>('unset')\n  const [bottom, setBottom] = useState<number | 'unset'>('unset')\n\n  const handleOutsideClick = (e: any) => {\n    const n = (node.current as unknown) as Node\n    if (n.contains(e.target)) return\n    setOpen(false)\n  }\n\n  React.useEffect(() => {\n    document.addEventListener('mousedown', handleOutsideClick)\n    return () => {\n      document.removeEventListener('mousedown', handleOutsideClick)\n    }\n  }, [])\n\n  useEffect(() => {\n    setOpen(isOpen)\n  }, [isOpen])\n\n  const handleOpen = () => {\n    setOpen(!open)\n    const popUpWidth =\n      typeof width === 'string' ? parseInt(width.replace('px', '')) : width\n    const popUpHeight =\n      typeof height === 'string' ? parseInt(height.replace('px', '')) : height\n\n    const clientRect = triggerElementRef.current?.getClientRects()\n    setTop(clientRect?.[0]?.height || 0)\n\n    if (clientRect && clientRect[0].right >= popUpWidth) {\n      setRight(0)\n      setLeft('auto')\n    } else {\n      setLeft('auto')\n      setRight('unset')\n    }\n\n    if (\n      clientRect &&\n      popUpHeight &&\n      window.screen.height - (clientRect[0].top + clientRect[0].height) >\n        popUpHeight\n    ) {\n      setTop(clientRect?.[0]?.height || 0)\n      setBottom('unset')\n    } else {\n      setTop('unset')\n      setBottom(clientRect?.[0].height || 0)\n      // setTop(\n      //   (clientRect &&\n      //     clientRect?.[0]?.height - (popUpHeight + clientRect?.[0]?.height)) ||\n      //     0\n      // )\n    }\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n    onClose && onClose()\n  }\n\n  return (\n    <InlinePopupWrapper id={id} ref={node}>\n      <div ref={triggerElementRef} onClick={handleOpen}>\n        {children}\n      </div>\n      {open && (\n        <InlinePopStyled\n          style={{\n            position: 'absolute',\n            right,\n            left,\n            top,\n            bottom,\n            zIndex: 1,\n            ...style\n          }}\n          width={\n            typeof width === 'string'\n              ? parseInt(width.replace('px', ''))\n              : width\n          }\n          height={\n            typeof height === 'string'\n              ? parseInt(height.replace('px', ''))\n              : height\n          }\n          className={`InlinePopUpContainer ${className}`}\n          id={id}\n        >\n          <Header closeButton handleClose={handleClose}>\n            {title}\n          </Header>\n          <div>{content} </div>\n        </InlinePopStyled>\n      )}\n    </InlinePopupWrapper>\n  )\n}\n\nexport default InlinePopup\n"]},"metadata":{},"sourceType":"module"}