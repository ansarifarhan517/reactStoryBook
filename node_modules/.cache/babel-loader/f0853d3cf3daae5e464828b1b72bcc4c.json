{"ast":null,"code":"import _slicedToArray from \"/Users/farhanansari/Code/ui-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/farhanansari/Code/ui-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/farhanansari/Code/ui-library/src/components/molecules/Toast/Toast.tsx\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  background-color: transparent;\\n  padding: 0px;\\n  position: absolute;\\n  top: auto;\\n  right: 0px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 13px;\\n  width: 100%;\\n  font-weight: 500;\\n  max-width: 400px;\\n  max-height: auto;\\n  padding: 10px;\\n  align-items: center;\\n  display: flex;\\n  justify-content: center;\\n  font-size: \", \";\\n  font-family: \", \";\\n  background-color: \", \";\\n  box-shadow: \", \";\\n  color: \", \";\\n  i {\\n    font-size: \", \";\\n    margin: 3px 7px 0px 7px;\\n  }\\n  .message {\\n    margin: 0px 7px;\\n    font-weight: 500;\\n  }\\n  margin: 10px auto;\\n  z-index: \", \";\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport FontIcon from '../../atoms/FontIcon';\nimport IconButton from '../../atoms/IconButton';\nvar ToastStyled = styled.div(_templateObject(), function (_ref) {\n  var _theme$typography;\n\n  var theme = _ref.theme;\n  return \"\".concat(theme === null || theme === void 0 ? void 0 : (_theme$typography = theme.typography) === null || _theme$typography === void 0 ? void 0 : _theme$typography.fontSize);\n}, function (_ref2) {\n  var _theme$typography2;\n\n  var theme = _ref2.theme;\n  return \"\".concat(theme === null || theme === void 0 ? void 0 : (_theme$typography2 = theme.typography) === null || _theme$typography2 === void 0 ? void 0 : _theme$typography2.fontFamily);\n}, function (_ref3) {\n  var _theme$colors, _theme$colors$primary;\n\n  var theme = _ref3.theme;\n  return \"\".concat(theme === null || theme === void 0 ? void 0 : (_theme$colors = theme.colors) === null || _theme$colors === void 0 ? void 0 : (_theme$colors$primary = _theme$colors.primary) === null || _theme$colors$primary === void 0 ? void 0 : _theme$colors$primary.main);\n}, function (_ref4) {\n  var _theme$shadows;\n\n  var theme = _ref4.theme;\n  return \"\".concat(theme === null || theme === void 0 ? void 0 : (_theme$shadows = theme.shadows) === null || _theme$shadows === void 0 ? void 0 : _theme$shadows[\"default\"]);\n}, function (_ref5) {\n  var _theme$colors2, _theme$colors2$primar;\n\n  var theme = _ref5.theme;\n  return \"\".concat(theme === null || theme === void 0 ? void 0 : (_theme$colors2 = theme.colors) === null || _theme$colors2 === void 0 ? void 0 : (_theme$colors2$primar = _theme$colors2.primary) === null || _theme$colors2$primar === void 0 ? void 0 : _theme$colors2$primar.contrastText);\n}, function (_ref6) {\n  var _theme$fontIcons;\n\n  var theme = _ref6.theme;\n  return \"\".concat(theme === null || theme === void 0 ? void 0 : (_theme$fontIcons = theme.fontIcons) === null || _theme$fontIcons === void 0 ? void 0 : _theme$fontIcons.xs, \"px\");\n}, function (_ref7) {\n  var _theme$zIndex;\n\n  var theme = _ref7.theme;\n  return \"\".concat(theme === null || theme === void 0 ? void 0 : (_theme$zIndex = theme.zIndex) === null || _theme$zIndex === void 0 ? void 0 : _theme$zIndex.toast);\n});\nvar IconButtonStyled = styled(IconButton)(_templateObject2());\n/* custom timer function to implement start and pause */\n\nvar CustomTimer = function CustomTimer(callback, delay) {\n  var id;\n  var started;\n  var remaining = delay;\n\n  var start = function start() {\n    started = new Date();\n    id = setTimeout(callback, remaining);\n  };\n\n  var pause = function pause() {\n    clearTimeout(id);\n    var temp = new Date();\n    remaining -= temp.valueOf() - started.valueOf();\n  };\n\n  start();\n  return {\n    start: start,\n    pause: pause\n  };\n};\n\nvar Toast = function Toast(_ref8) {\n  var children = _ref8.children,\n      remove = _ref8.remove,\n      _ref8$iconVariant = _ref8.iconVariant,\n      iconVariant = _ref8$iconVariant === void 0 ? 'check-round' : _ref8$iconVariant,\n      removeButton = _ref8.removeButton;\n  var removeRef = useRef();\n  removeRef.current = remove;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      classname = _useState2[0],\n      setClassname = _useState2[1];\n\n  var _useState3 = useState({\n    start: function start() {},\n    pause: function pause() {}\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      timerState = _useState4[0],\n      setTimerState = _useState4[1];\n\n  var handlePause = function handlePause() {\n    timerState.pause && timerState.pause();\n  };\n\n  var handleResume = function handleResume() {\n    timerState.start && timerState.start();\n  };\n\n  var startTimer = function startTimer() {\n    return classname !== '' ? setTimeout(function () {\n      /* removes the toast from the list */\n      removeRef.current && removeRef.current();\n    }, 500) : CustomTimer(function () {\n      /* Adds a class that fades out the Toast */\n      setClassname('removing');\n    }, 4000);\n  };\n\n  useEffect(function () {\n    setTimerState(function () {\n      return startTimer();\n    });\n  }, [classname]);\n  return /*#__PURE__*/React.createElement(ToastStyled, {\n    className: classname + ' Toast',\n    onMouseOver: handlePause,\n    onMouseLeave: handleResume,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FontIcon, {\n    variant: iconVariant,\n    color: \"white\",\n    size: \"sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, children), removeButton && /*#__PURE__*/React.createElement(IconButtonStyled, {\n    intent: \"default\",\n    iconVariant: \"close\",\n    children: \"Close\",\n    onClick: remove,\n    iconSize: \"xs\",\n    onlyIcon: true,\n    color: \"primary.contrastText\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default Toast;","map":{"version":3,"sources":["/Users/farhanansari/Code/ui-library/src/components/molecules/Toast/Toast.tsx"],"names":["React","useEffect","useRef","useState","styled","FontIcon","IconButton","ToastStyled","div","theme","typography","fontSize","fontFamily","colors","primary","main","shadows","contrastText","fontIcons","xs","zIndex","toast","IconButtonStyled","CustomTimer","callback","delay","id","started","remaining","start","Date","setTimeout","pause","clearTimeout","temp","valueOf","Toast","children","remove","iconVariant","removeButton","removeRef","current","classname","setClassname","timerState","setTimerState","handlePause","handleResume","startTimer"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AAEA,OAAOC,UAAP,MAAuB,wBAAvB;AAEA,IAAMC,WAAW,GAAGH,MAAM,CAACI,GAAV,oBAUF;AAAA;;AAAA,MAAGC,KAAH,QAAGA,KAAH;AAAA,mBAAkBA,KAAlB,aAAkBA,KAAlB,4CAAkBA,KAAK,CAAEC,UAAzB,sDAAkB,kBAAmBC,QAArC;AAAA,CAVE,EAWA;AAAA;;AAAA,MAAGF,KAAH,SAAGA,KAAH;AAAA,mBAAkBA,KAAlB,aAAkBA,KAAlB,6CAAkBA,KAAK,CAAEC,UAAzB,uDAAkB,mBAAmBE,UAArC;AAAA,CAXA,EAYK;AAAA;;AAAA,MAAGH,KAAH,SAAGA,KAAH;AAAA,mBAAkBA,KAAlB,aAAkBA,KAAlB,wCAAkBA,KAAK,CAAEI,MAAzB,2EAAkB,cAAeC,OAAjC,0DAAkB,sBAAwBC,IAA1C;AAAA,CAZL,EAaD;AAAA;;AAAA,MAAGN,KAAH,SAAGA,KAAH;AAAA,mBAAkBA,KAAlB,aAAkBA,KAAlB,yCAAkBA,KAAK,CAAEO,OAAzB,mDAAkB,yBAAlB;AAAA,CAbC,EAcN;AAAA;;AAAA,MAAGP,KAAH,SAAGA,KAAH;AAAA,mBAAkBA,KAAlB,aAAkBA,KAAlB,yCAAkBA,KAAK,CAAEI,MAAzB,4EAAkB,eAAeC,OAAjC,0DAAkB,sBAAwBG,YAA1C;AAAA,CAdM,EAgBA;AAAA;;AAAA,MAAGR,KAAH,SAAGA,KAAH;AAAA,mBAAkBA,KAAlB,aAAkBA,KAAlB,2CAAkBA,KAAK,CAAES,SAAzB,qDAAkB,iBAAkBC,EAApC;AAAA,CAhBA,EAwBJ;AAAA;;AAAA,MAAGV,KAAH,SAAGA,KAAH;AAAA,mBAAkBA,KAAlB,aAAkBA,KAAlB,wCAAkBA,KAAK,CAAEW,MAAzB,kDAAkB,cAAeC,KAAjC;AAAA,CAxBI,CAAjB;AA0BA,IAAMC,gBAAgB,GAAGlB,MAAM,CAACE,UAAD,CAAT,oBAAtB;AAQA;;AAEA,IAAMiB,WAAW,GAAG,SAAdA,WAAc,CAACC,QAAD,EAAgBC,KAAhB,EAAkC;AACpD,MAAIC,EAAJ;AACA,MAAIC,OAAJ;AACA,MAAIC,SAAiB,GAAGH,KAAxB;;AACA,MAAMI,KAAK,GAAG,SAARA,KAAQ,GAAM;AAClBF,IAAAA,OAAO,GAAG,IAAIG,IAAJ,EAAV;AACAJ,IAAAA,EAAE,GAAGK,UAAU,CAACP,QAAD,EAAWI,SAAX,CAAf;AACD,GAHD;;AAIA,MAAMI,KAAK,GAAG,SAARA,KAAQ,GAAM;AAClBC,IAAAA,YAAY,CAACP,EAAD,CAAZ;AACA,QAAMQ,IAAI,GAAG,IAAIJ,IAAJ,EAAb;AACAF,IAAAA,SAAS,IAAIM,IAAI,CAACC,OAAL,KAAiBR,OAAO,CAACQ,OAAR,EAA9B;AACD,GAJD;;AAKAN,EAAAA,KAAK;AACL,SAAO;AAAEA,IAAAA,KAAK,EAALA,KAAF;AAASG,IAAAA,KAAK,EAALA;AAAT,GAAP;AACD,CAfD;;AAiBA,IAAMI,KAAK,GAAG,SAARA,KAAQ,QAKK;AAAA,MAJjBC,QAIiB,SAJjBA,QAIiB;AAAA,MAHjBC,MAGiB,SAHjBA,MAGiB;AAAA,gCAFjBC,WAEiB;AAAA,MAFjBA,WAEiB,kCAFH,aAEG;AAAA,MADjBC,YACiB,SADjBA,YACiB;AACjB,MAAMC,SAAS,GAAGvC,MAAM,EAAxB;AACAuC,EAAAA,SAAS,CAACC,OAAV,GAAoBJ,MAApB;;AAFiB,kBAGiBnC,QAAQ,CAAC,EAAD,CAHzB;AAAA;AAAA,MAGVwC,SAHU;AAAA,MAGCC,YAHD;;AAAA,mBAImBzC,QAAQ,CAAC;AAC3C0B,IAAAA,KAAK,EAAE,iBAAM,CAAE,CAD4B;AAE3CG,IAAAA,KAAK,EAAE,iBAAM,CAAE;AAF4B,GAAD,CAJ3B;AAAA;AAAA,MAIVa,UAJU;AAAA,MAIEC,aAJF;;AASjB,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBF,IAAAA,UAAU,CAACb,KAAX,IAAoBa,UAAU,CAACb,KAAX,EAApB;AACD,GAFD;;AAGA,MAAMgB,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzBH,IAAAA,UAAU,CAAChB,KAAX,IAAoBgB,UAAU,CAAChB,KAAX,EAApB;AACD,GAFD;;AAGA,MAAMoB,UAAU,GAAG,SAAbA,UAAa,GAAW;AAC5B,WAAON,SAAS,KAAK,EAAd,GACHZ,UAAU,CAAC,YAAM;AACf;AACAU,MAAAA,SAAS,CAACC,OAAV,IAAqBD,SAAS,CAACC,OAAV,EAArB;AACD,KAHS,EAGP,GAHO,CADP,GAKHnB,WAAW,CAAC,YAAM;AAChB;AACAqB,MAAAA,YAAY,CAAC,UAAD,CAAZ;AACD,KAHU,EAGR,IAHQ,CALf;AASD,GAVD;;AAYA3C,EAAAA,SAAS,CAAC,YAAM;AACd6C,IAAAA,aAAa,CAAC;AAAA,aAAMG,UAAU,EAAhB;AAAA,KAAD,CAAb;AACD,GAFQ,EAEN,CAACN,SAAD,CAFM,CAAT;AAIA,sBACE,oBAAC,WAAD;AACE,IAAA,SAAS,EAAEA,SAAS,GAAG,QADzB;AAEE,IAAA,WAAW,EAAEI,WAFf;AAGE,IAAA,YAAY,EAAEC,YAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAET,WAAnB;AAAgC,IAAA,KAAK,EAAC,OAAtC;AAA8C,IAAA,IAAI,EAAC,IAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,eAME;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0BF,QAA1B,CANF,EAOGG,YAAY,iBACX,oBAAC,gBAAD;AACE,IAAA,MAAM,EAAC,SADT;AAEE,IAAA,WAAW,EAAC,OAFd;AAGE,IAAA,QAAQ,EAAC,OAHX;AAIE,IAAA,OAAO,EAAEF,MAJX;AAKE,IAAA,QAAQ,EAAC,IALX;AAME,IAAA,QAAQ,MANV;AAOE,IAAA,KAAK,EAAC,sBAPR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,CADF;AAqBD,CAzDD;;AA2DA,eAAeF,KAAf","sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport styled from 'styled-components'\nimport FontIcon from '../../atoms/FontIcon'\nimport { IToastProps } from './interfaces'\nimport IconButton from '../../atoms/IconButton'\n\nconst ToastStyled = styled.div`\n  font-size: 13px;\n  width: 100%;\n  font-weight: 500;\n  max-width: 400px;\n  max-height: auto;\n  padding: 10px;\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  font-size: ${({ theme }) => `${theme?.typography?.fontSize}`};\n  font-family: ${({ theme }) => `${theme?.typography?.fontFamily}`};\n  background-color: ${({ theme }) => `${theme?.colors?.primary?.main}`};\n  box-shadow: ${({ theme }) => `${theme?.shadows?.default}`};\n  color: ${({ theme }) => `${theme?.colors?.primary?.contrastText}`};\n  i {\n    font-size: ${({ theme }) => `${theme?.fontIcons?.xs}px`};\n    margin: 3px 7px 0px 7px;\n  }\n  .message {\n    margin: 0px 7px;\n    font-weight: 500;\n  }\n  margin: 10px auto;\n  z-index: ${({ theme }) => `${theme?.zIndex?.toast}`};\n`\nconst IconButtonStyled = styled(IconButton)`\n  background-color: transparent;\n  padding: 0px;\n  position: absolute;\n  top: auto;\n  right: 0px;\n`\n\n/* custom timer function to implement start and pause */\n\nconst CustomTimer = (callback: any, delay: number) => {\n  let id: number\n  let started: Date\n  let remaining: number = delay\n  const start = () => {\n    started = new Date()\n    id = setTimeout(callback, remaining)\n  }\n  const pause = () => {\n    clearTimeout(id)\n    const temp = new Date()\n    remaining -= temp.valueOf() - started.valueOf()\n  }\n  start()\n  return { start, pause }\n}\n\nconst Toast = ({\n  children,\n  remove,\n  iconVariant = 'check-round',\n  removeButton\n}: IToastProps) => {\n  const removeRef = useRef<HTMLElement | any>()\n  removeRef.current = remove\n  const [classname, setClassname] = useState('')\n  const [timerState, setTimerState] = useState({\n    start: () => {},\n    pause: () => {}\n  })\n\n  const handlePause = () => {\n    timerState.pause && timerState.pause()\n  }\n  const handleResume = () => {\n    timerState.start && timerState.start()\n  }\n  const startTimer = (): any => {\n    return classname !== ''\n      ? setTimeout(() => {\n          /* removes the toast from the list */\n          removeRef.current && removeRef.current()\n        }, 500)\n      : CustomTimer(() => {\n          /* Adds a class that fades out the Toast */\n          setClassname('removing')\n        }, 4000)\n  }\n\n  useEffect(() => {\n    setTimerState(() => startTimer())\n  }, [classname])\n\n  return (\n    <ToastStyled\n      className={classname + ' Toast'}\n      onMouseOver={handlePause}\n      onMouseLeave={handleResume}\n    >\n      <FontIcon variant={iconVariant} color='white' size='sm' />\n      <div className='message'>{children}</div>\n      {removeButton && (\n        <IconButtonStyled\n          intent='default'\n          iconVariant='close'\n          children='Close'\n          onClick={remove}\n          iconSize='xs'\n          onlyIcon\n          color='primary.contrastText'\n        />\n      )}\n    </ToastStyled>\n  )\n}\n\nexport default Toast\n"]},"metadata":{},"sourceType":"module"}