{"ast":null,"code":"import _objectWithoutProperties from \"/Users/farhanansari/Desktop/CODE/PrxProject/untitled folder/reactStoryBook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"/Users/farhanansari/Desktop/CODE/PrxProject/untitled folder/reactStoryBook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/farhanansari/Desktop/CODE/PrxProject/untitled folder/reactStoryBook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/farhanansari/Desktop/CODE/PrxProject/untitled folder/reactStoryBook/src/components/molecules/Toast/withToastProvider.tsx\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  display: table-row;\\n  justify-content: center;\\n  position: fixed;\\n  z-index: \", \";\\n  width: 100%;\\n  top: 67px;\\n  .Toast {\\n    position: relative;\\n    animation: 0.5s \", \" ease-in;\\n  }\\n  .Toast.removing {\\n    position: relative;\\n    animation: 0.5s \", \" ease-in;\\n    opacity: 0;\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  0% {\\n      opacity: \", \";\\n      top:\", \";\\n    }\\n    50% {\\n      opacity: \", \";\\n      top:\", \";\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react'; // import { createPortal } from 'react-dom'\n\nimport Toast from './Toast';\nimport ToastContext from './context';\nimport styled, { keyframes } from 'styled-components';\nimport useDebounce from '../../../utilities/useDebounce';\n\nvar createPortal = require('react-dom').createPortal;\n\nvar ToastKeyframes = function ToastKeyframes(fade) {\n  return keyframes(_templateObject(), fade === 'in' ? '0' : '1', fade === 'in' ? '-100px' : '0px', fade === 'in' ? '1' : '0', fade === 'in' ? '0px' : 'auto');\n};\n\nvar ToastWrapperStyled = styled.div(_templateObject2(), function (_ref) {\n  var _theme$zIndex;\n\n  var theme = _ref.theme;\n  return \"\".concat(theme === null || theme === void 0 ? void 0 : (_theme$zIndex = theme.zIndex) === null || _theme$zIndex === void 0 ? void 0 : _theme$zIndex.toast);\n}, ToastKeyframes('in'), ToastKeyframes('out')); // Create a random ID\n\nvar generateUEID = function generateUEID() {\n  var first = Math.random() * 46656 | 0;\n  var second = Math.random() * 46656 | 0;\n  return ('000' + first.toString(36)).slice(-3) + ('000' + second.toString(36)).slice(-3);\n};\n\nvar withToastProvider = function withToastProvider(Component) {\n  var elementId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  var WithToastProvider = function WithToastProvider(props) {\n    var _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        toasts = _useState2[0],\n        setToasts = _useState2[1];\n\n    var debouncedValue = useDebounce(toasts, 500); // add toast to the array\n\n    var add = function add(content, iconVariant, removeButton) {\n      var toastId = generateUEID();\n      setToasts([// ...toasts,\n      {\n        toastId: toastId,\n        content: content,\n        iconVariant: iconVariant,\n        removeButton: removeButton\n      }]);\n      return toastId;\n    }; // remove toast from the array\n\n\n    var _remove = function remove(toastId) {\n      return setToasts(toasts.filter(function (t) {\n        return t.toastId !== toastId;\n      }));\n    };\n\n    return /*#__PURE__*/React.createElement(ToastContext.Provider, {\n      value: {\n        add: add,\n        remove: _remove\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    })), createPortal( /*#__PURE__*/React.createElement(ToastWrapperStyled, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, debouncedValue.map(function (_ref2) {\n      var toastId = _ref2.toastId,\n          content = _ref2.content,\n          props = _objectWithoutProperties(_ref2, [\"toastId\", \"content\"]);\n\n      return /*#__PURE__*/React.createElement(Toast, Object.assign({\n        key: toastId,\n        remove: function remove() {\n          return _remove(toastId);\n        }\n      }, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      }), content);\n    })), document.getElementById(elementId) || document.body));\n  };\n\n  return WithToastProvider;\n};\n\nexport default withToastProvider;","map":{"version":3,"sources":["/Users/farhanansari/Desktop/CODE/PrxProject/untitled folder/reactStoryBook/src/components/molecules/Toast/withToastProvider.tsx"],"names":["React","useState","Toast","ToastContext","styled","keyframes","useDebounce","createPortal","require","ToastKeyframes","fade","ToastWrapperStyled","div","theme","zIndex","toast","generateUEID","first","Math","random","second","toString","slice","withToastProvider","Component","elementId","WithToastProvider","props","toasts","setToasts","debouncedValue","add","content","iconVariant","removeButton","toastId","remove","filter","t","map","document","getElementById","body"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\n// import { createPortal } from 'react-dom'\nimport Toast from './Toast'\nimport ToastContext from './context'\nimport styled, { keyframes } from 'styled-components'\nimport { IWithToastProvider, tRemoveProps } from './interfaces'\nimport useDebounce from '../../../utilities/useDebounce'\n\nconst createPortal = require('react-dom').createPortal\n\nconst ToastKeyframes = (fade: string) => keyframes`\n  0% {\n      opacity: ${fade === 'in' ? '0' : '1'};\n      top:${fade === 'in' ? '-100px' : '0px'};\n    }\n    50% {\n      opacity: ${fade === 'in' ? '1' : '0'};\n      top:${fade === 'in' ? '0px' : 'auto'};\n    }\n`\nconst ToastWrapperStyled = styled.div`\n  display: table-row;\n  justify-content: center;\n  position: fixed;\n  z-index: ${({ theme }) => `${theme?.zIndex?.toast}`};\n  width: 100%;\n  top: 67px;\n  .Toast {\n    position: relative;\n    animation: 0.5s ${ToastKeyframes('in')} ease-in;\n  }\n  .Toast.removing {\n    position: relative;\n    animation: 0.5s ${ToastKeyframes('out')} ease-in;\n    opacity: 0;\n  }\n`\n// Create a random ID\nconst generateUEID = () => {\n  const first: number = (Math.random() * 46656) | 0\n  const second: number = (Math.random() * 46656) | 0\n  return (\n    ('000' + first.toString(36)).slice(-3) +\n    ('000' + second.toString(36)).slice(-3)\n  )\n}\n\nconst withToastProvider = <P extends object>(\n  Component: React.ComponentType<P>,\n  elementId: string = ''\n) => {\n  const WithToastProvider = (props: any) => {\n    const [toasts, setToasts] = useState<IWithToastProvider[]>([])\n    const debouncedValue = useDebounce(toasts, 500)\n\n    // add toast to the array\n    const add = (\n      content: string,\n      iconVariant: string,\n      removeButton: boolean\n    ) => {\n      const toastId = generateUEID()\n      setToasts([\n        // ...toasts,\n        { toastId, content, iconVariant, removeButton }\n      ] as IWithToastProvider[])\n      return toastId\n    }\n\n    // remove toast from the array\n    const remove = (toastId: tRemoveProps) =>\n      setToasts(toasts.filter((t: IWithToastProvider) => t.toastId !== toastId))\n\n    return (\n      <ToastContext.Provider value={{ add, remove }}>\n        <Component {...props} />\n\n        {createPortal(\n          <ToastWrapperStyled>\n            {debouncedValue.map(\n              ({ toastId, content, ...props }: IWithToastProvider) => (\n                <Toast key={toastId} remove={() => remove(toastId)} {...props}>\n                  {content}\n                </Toast>\n              )\n            )}\n          </ToastWrapperStyled>,\n          document.getElementById(elementId) || document.body\n        )}\n      </ToastContext.Provider>\n    )\n  }\n  return WithToastProvider\n}\n\nexport default withToastProvider\n"]},"metadata":{},"sourceType":"module"}