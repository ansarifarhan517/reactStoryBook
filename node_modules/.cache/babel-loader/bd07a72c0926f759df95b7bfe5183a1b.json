{"ast":null,"code":"import _objectSpread from \"/Users/farhanansari/Code/ui-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/farhanansari/Code/ui-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/farhanansari/Code/ui-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _taggedTemplateLiteral from \"/Users/farhanansari/Code/ui-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/farhanansari/Code/ui-library/src/components/molecules/FilterMultiselect/index.tsx\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 12px;\\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\\n  background-color: #fff;\\n  transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\\n  border: 1px solid \", \";\\n  margin-top: 10px;\\n  width: 100%;\\n  box-sizing: border-box;\\n  outline: none;\\n  font-size: 14px;\\n  color: #555;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  max-height: 200px;\\n  overflow-x: hidden;\\n  overflow-y: overlay;\\n  border: 1px solid \", \";\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-top: 5px;\\n  border: 1px solid \", \";\\n  border-bottom: unset;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from 'react';\nimport Typography from '../../atoms/Typography';\nimport styled from 'styled-components';\nimport Box from '../../atoms/Box';\nimport Checkbox from '../../atoms/Checkbox';\nvar SelectAllContainer = styled.div(_templateObject(), function (_ref) {\n  var _theme$colors, _theme$colors$grey;\n\n  var theme = _ref.theme;\n  return theme === null || theme === void 0 ? void 0 : (_theme$colors = theme.colors) === null || _theme$colors === void 0 ? void 0 : (_theme$colors$grey = _theme$colors.grey) === null || _theme$colors$grey === void 0 ? void 0 : _theme$colors$grey['510'];\n});\nvar OptionsContainer = styled.div(_templateObject2(), function (_ref2) {\n  var _theme$colors2, _theme$colors2$grey;\n\n  var theme = _ref2.theme;\n  return theme === null || theme === void 0 ? void 0 : (_theme$colors2 = theme.colors) === null || _theme$colors2 === void 0 ? void 0 : (_theme$colors2$grey = _theme$colors2.grey) === null || _theme$colors2$grey === void 0 ? void 0 : _theme$colors2$grey['510'];\n});\nvar SearchField = styled.input(_templateObject3(), function (_ref3) {\n  var _theme$colors3, _theme$colors3$grey;\n\n  var theme = _ref3.theme;\n  return theme === null || theme === void 0 ? void 0 : (_theme$colors3 = theme.colors) === null || _theme$colors3 === void 0 ? void 0 : (_theme$colors3$grey = _theme$colors3.grey) === null || _theme$colors3$grey === void 0 ? void 0 : _theme$colors3$grey.inputBorder;\n});\n\nvar FilterMultiselect = function FilterMultiselect(_ref4) {\n  var _ref4$id = _ref4.id,\n      id = _ref4$id === void 0 ? 'FilterMultiselect' : _ref4$id,\n      _ref4$label = _ref4.label,\n      label = _ref4$label === void 0 ? '' : _ref4$label,\n      _ref4$options = _ref4.options,\n      options = _ref4$options === void 0 ? [] : _ref4$options,\n      _ref4$onSelectionChan = _ref4.onSelectionChange,\n      onSelectionChange = _ref4$onSelectionChan === void 0 ? function () {} : _ref4$onSelectionChan,\n      _ref4$handleSearch = _ref4.handleSearch,\n      handleSearch = _ref4$handleSearch === void 0 ? function () {} : _ref4$handleSearch,\n      rest = _objectWithoutProperties(_ref4, [\"id\", \"label\", \"options\", \"onSelectionChange\", \"handleSearch\"]);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      optionsList = _useState2[0],\n      setOptionsList = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isSelectAll = _useState4[0],\n      setSelectAll = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      searchValue = _useState6[0],\n      setSearchValue = _useState6[1];\n\n  useEffect(function () {\n    setOptionsList(options);\n    var hasSomeUnchecked = options.some(function (o) {\n      return !o.checked;\n    });\n    setSelectAll(!hasSomeUnchecked);\n  }, [options]);\n\n  var handleSelectAll = function handleSelectAll(_ref5) {\n    var checked = _ref5.target.checked;\n    setSelectAll(checked);\n    setOptionsList(function (list) {\n      var newList = list.map(function (option) {\n        return _objectSpread(_objectSpread({}, option), {}, {\n          checked: checked\n        });\n      });\n      setTimeout(function () {\n        onSelectionChange('selectAll', checked, newList, checked ? optionsList : []);\n      }, 100);\n      return newList;\n    });\n  };\n\n  var handleSearchFieldChange = function handleSearchFieldChange(_ref6) {\n    var value = _ref6.target.value;\n    setSearchValue(value);\n    setTimeout(function () {\n      handleSearch(value, isSelectAll);\n    }, 100);\n  };\n\n  var handleCheckboxChange = function handleCheckboxChange(id, checked) {\n    setOptionsList(function (list) {\n      var isSelectAll = true;\n      var selected = [];\n      var newList = list.map(function (o) {\n        if (isSelectAll && !(o.id === id ? checked : o.checked)) {\n          isSelectAll = false;\n        }\n\n        if (o.id === id && checked || o.id !== id && o.checked) {\n          selected.push(_objectSpread(_objectSpread({}, o), {}, {\n            checked: true\n          }));\n        }\n\n        return o.id === id ? _objectSpread(_objectSpread({}, o), {}, {\n          checked: checked\n        }) : o;\n      });\n      setSelectAll(isSelectAll);\n      setTimeout(function () {\n        onSelectionChange(id, checked, newList, selected);\n      }, 100);\n      return newList;\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Box, Object.assign({}, rest, {\n    fullWidth: true,\n    style: {\n      boxSizing: 'border-box'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    fontSize: \"14px\",\n    color: \"grey.A500\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, label), /*#__PURE__*/React.createElement(SearchField, {\n    type: \"text\",\n    id: \"\".concat(id, \"-SearchField\"),\n    value: searchValue,\n    onChange: handleSearchFieldChange,\n    placeholder: \"Search\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SelectAllContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    py: \"7px\",\n    px: \"15px\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    flexGrow: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"\".concat(id, \"-selectAll\"),\n    style: {\n      display: 'inline-block',\n      width: '100%',\n      cursor: 'pointer',\n      fontWeight: 700,\n      fontSize: 13\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, \"Select All\")), /*#__PURE__*/React.createElement(Checkbox, {\n    checked: isSelectAll,\n    onChange: handleSelectAll,\n    id: \"\".concat(id, \"-selectAll\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(OptionsContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }\n  }, optionsList.filter(function (option) {\n    return !searchValue || option.label.toLowerCase().indexOf(searchValue.toLowerCase()) >= 0;\n  }).map(function (option) {\n    return /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"flex-start\",\n      key: option.id,\n      py: \"10px\",\n      px: \"15px\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      flexGrow: 1,\n      pr: \"12px\",\n      style: {\n        overflowX: 'hidden',\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis'\n      },\n      title: option.label,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"\".concat(id, \"-\").concat(option.label, \"-\").concat(option.id),\n      style: {\n        display: 'inline-block',\n        width: '100%',\n        cursor: 'pointer',\n        color: '#969caa',\n        fontWeight: 700,\n        fontSize: '13px',\n        textOverflow: 'ellipsis'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, option.label)), /*#__PURE__*/React.createElement(Checkbox, {\n      checked: !!option.checked,\n      id: \"\".concat(id, \"-\").concat(option.label, \"-\").concat(option.id),\n      onChange: function onChange(e) {\n        return handleCheckboxChange(option.id, e.target.checked);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 15\n      }\n    }));\n  })));\n};\n\nexport default FilterMultiselect;","map":{"version":3,"sources":["/Users/farhanansari/Code/ui-library/src/components/molecules/FilterMultiselect/index.tsx"],"names":["React","useState","useEffect","Typography","styled","Box","Checkbox","SelectAllContainer","div","theme","colors","grey","OptionsContainer","SearchField","input","inputBorder","FilterMultiselect","id","label","options","onSelectionChange","handleSearch","rest","optionsList","setOptionsList","isSelectAll","setSelectAll","searchValue","setSearchValue","hasSomeUnchecked","some","o","checked","handleSelectAll","target","list","newList","map","option","setTimeout","handleSearchFieldChange","value","handleCheckboxChange","selected","push","boxSizing","display","width","cursor","fontWeight","fontSize","filter","toLowerCase","indexOf","overflowX","whiteSpace","textOverflow","color","e"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { IFilterMultiselectProps, IFilterMultiselectOption } from './interfaces'\nimport Typography from '../../atoms/Typography'\nimport styled from 'styled-components'\nimport Box from '../../atoms/Box'\nimport Checkbox from '../../atoms/Checkbox'\n\nconst SelectAllContainer = styled.div`\n  margin-top: 5px;\n  border: 1px solid ${({ theme }) => theme?.colors?.grey?.['510']};\n  border-bottom: unset;\n`\nconst OptionsContainer = styled.div`\n  max-height: 200px;\n  overflow-x: hidden;\n  overflow-y: overlay;\n  border: 1px solid ${({ theme }) => theme?.colors?.grey?.['510']};\n`\nconst SearchField = styled.input`\n  padding: 12px;\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n  background-color: #fff;\n  transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n  border: 1px solid ${({ theme }) => theme?.colors?.grey?.inputBorder};\n  margin-top: 10px;\n  width: 100%;\n  box-sizing: border-box;\n  outline: none;\n  font-size: 14px;\n  color: #555;\n`\nconst FilterMultiselect = ({\n  id = 'FilterMultiselect',\n  label = '',\n  options = [],\n  onSelectionChange = () => {},\n  handleSearch = () => {},\n  ...rest\n}: IFilterMultiselectProps) => {\n  const [optionsList, setOptionsList] = useState<IFilterMultiselectOption[]>([])\n  const [isSelectAll, setSelectAll] = useState<boolean>(false)\n  const [searchValue, setSearchValue] = useState<string>('')\n\n  useEffect(() => {\n    setOptionsList(options)\n    const hasSomeUnchecked = options.some((o) => !o.checked)\n    setSelectAll(!hasSomeUnchecked)\n  }, [options])\n\n  const handleSelectAll = ({\n    target: { checked }\n  }: React.ChangeEvent<HTMLInputElement>) => {\n    setSelectAll(checked)\n    setOptionsList((list) => {\n      const newList = list.map((option) => ({ ...option, checked }))\n      setTimeout(() => {\n        onSelectionChange(\n          'selectAll',\n          checked,\n          newList,\n          checked ? optionsList : []\n        )\n      }, 100)\n      return newList\n    })\n  }\n\n  const handleSearchFieldChange = ({\n    target: { value }\n  }: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchValue(value)\n    setTimeout(() => {\n      handleSearch(value, isSelectAll)\n    }, 100)\n  }\n\n  const handleCheckboxChange = (id: string, checked: boolean) => {\n    setOptionsList((list) => {\n      let isSelectAll = true\n      const selected: IFilterMultiselectOption[] = []\n      const newList = list.map((o) => {\n        if (isSelectAll && !(o.id === id ? checked : o.checked)) {\n          isSelectAll = false\n        }\n        if ((o.id === id && checked) || (o.id !== id && o.checked)) {\n          selected.push({ ...o, checked: true })\n        }\n        return o.id === id ? { ...o, checked } : o\n      })\n\n      setSelectAll(isSelectAll)\n      setTimeout(() => {\n        onSelectionChange(id, checked, newList, selected)\n      }, 100)\n      return newList\n    })\n  }\n\n  return (\n    <Box {...rest} fullWidth style={{ boxSizing: 'border-box' }}>\n      <Typography fontSize='14px' color='grey.A500'>\n        {label}\n      </Typography>\n      <SearchField\n        type='text'\n        id={`${id}-SearchField`}\n        value={searchValue}\n        onChange={handleSearchFieldChange}\n        placeholder='Search'\n      />\n      <SelectAllContainer>\n        <Box\n          display='flex'\n          alignItems='center'\n          justifyContent='flex-start'\n          py='7px'\n          px='15px'\n        >\n          <Box flexGrow={1}>\n            <label\n              htmlFor={`${id}-selectAll`}\n              style={{\n                display: 'inline-block',\n                width: '100%',\n                cursor: 'pointer',\n                fontWeight: 700,\n                fontSize: 13\n              }}\n            >\n              Select All\n            </label>\n          </Box>\n          <Checkbox\n            checked={isSelectAll}\n            onChange={handleSelectAll}\n            id={`${id}-selectAll`}\n          />\n        </Box>\n      </SelectAllContainer>\n      <OptionsContainer>\n        {optionsList\n          .filter(\n            (option) =>\n              !searchValue ||\n              option.label.toLowerCase().indexOf(searchValue.toLowerCase()) >= 0\n          )\n          .map((option) => (\n            <Box\n              display='flex'\n              alignItems='center'\n              justifyContent='flex-start'\n              key={option.id}\n              py='10px'\n              px='15px'\n            >\n              <Box\n                flexGrow={1}\n                pr='12px'\n                style={{\n                  overflowX: 'hidden',\n                  whiteSpace: 'nowrap',\n                  textOverflow: 'ellipsis'\n                }}\n                title={option.label}\n              >\n                <label\n                  htmlFor={`${id}-${option.label}-${option.id}`}\n                  style={{\n                    display: 'inline-block',\n                    width: '100%',\n                    cursor: 'pointer',\n                    color: '#969caa',\n                    fontWeight: 700,\n                    fontSize: '13px',\n                    textOverflow: 'ellipsis',\n                  }}\n                >\n                  {option.label}\n                </label>\n              </Box>\n              <Checkbox\n                checked={!!option.checked}\n                id={`${id}-${option.label}-${option.id}`}\n                onChange={(e) =>\n                  handleCheckboxChange(option.id, e.target.checked)\n                }\n              />\n            </Box>\n          ))}\n      </OptionsContainer>\n    </Box>\n  )\n}\n\nexport default FilterMultiselect\n"]},"metadata":{},"sourceType":"module"}