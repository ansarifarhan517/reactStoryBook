{"ast":null,"code":"import _regeneratorRuntime from \"/Users/farhanansari/Code/ui-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/farhanansari/Code/ui-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/farhanansari/Code/ui-library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/farhanansari/Code/ui-library/src/components/atoms/Map/utils/HereMapsIntegration/heremapsRoute.tsx\";\n\nimport React, { useState, useEffect } from 'react';\nimport 'google-maps-react';\nimport AntPath from 'react-leaflet-ant-path';\nimport { getHereMapsDataForPath } from './heremapsCall';\nimport prepareCallStack from '../GoogleIntegration/prepareRouteCallStack';\n\nvar HereMapsRouteContainer = function HereMapsRouteContainer(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      paths = _useState2[0],\n      setPaths = _useState2[1];\n\n  var createHereMapsPath = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(paths) {\n      var newRoute;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return Promise.all(paths.map( /*#__PURE__*/function () {\n                var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(p) {\n                  var paths;\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return getHereMapsDataForPath(props, p.points);\n\n                        case 2:\n                          paths = _context.sent;\n                          p.path = paths;\n                          return _context.abrupt(\"return\", p);\n\n                        case 5:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x2) {\n                  return _ref2.apply(this, arguments);\n                };\n              }()));\n\n            case 2:\n              newRoute = _context2.sent;\n              setPaths(newRoute);\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function createHereMapsPath(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    var newPaths = prepareCallStack(props.positions);\n    createHereMapsPath(newPaths);\n  }, [props.positions]);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(HereMapsRoutePresentation, Object.assign({}, props, {\n    paths: paths,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  })));\n};\n\nvar HereMapsRoutePresentation = function HereMapsRoutePresentation(props) {\n  var _props$paths;\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, (props === null || props === void 0 ? void 0 : props.paths) && (props === null || props === void 0 ? void 0 : (_props$paths = props.paths) === null || _props$paths === void 0 ? void 0 : _props$paths.map(function (route, index) {\n    if (!route.path.length) {\n      return /*#__PURE__*/React.createElement(AntPath, {\n        key: index,\n        positions: route.points,\n        options: {\n          color: props.color[index]\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(AntPath, {\n        key: index,\n        positions: route.path,\n        options: {\n          color: props.color[index]\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }\n      });\n    }\n  })));\n};\n\nexport default HereMapsRouteContainer;","map":{"version":3,"sources":["/Users/farhanansari/Code/ui-library/src/components/atoms/Map/utils/HereMapsIntegration/heremapsRoute.tsx"],"names":["React","useState","useEffect","AntPath","getHereMapsDataForPath","prepareCallStack","HereMapsRouteContainer","props","paths","setPaths","createHereMapsPath","Promise","all","map","p","points","path","newRoute","newPaths","positions","HereMapsRoutePresentation","route","index","length","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport 'google-maps-react'\nimport AntPath from 'react-leaflet-ant-path'\nimport { getHereMapsDataForPath } from './heremapsCall'\nimport prepareCallStack from '../GoogleIntegration/prepareRouteCallStack'\n\n\n\nconst HereMapsRouteContainer = (props: any) => {\n  const [paths, setPaths] = useState([] as any)\n\n  const createHereMapsPath = async (paths: any) => {\n      const newRoute = await Promise.all(paths.map(async (p: any) => {\n        const paths = await getHereMapsDataForPath(props, p.points);\n        p.path = paths;\n        return p;\n      }));\n\n      setPaths(newRoute);\n  }\n\n  useEffect(() => {\n      const newPaths = prepareCallStack(props.positions)\n      createHereMapsPath(newPaths);\n  }, [props.positions])\n\n  return (\n    <React.Fragment>\n      <HereMapsRoutePresentation {...props} paths={paths} />\n    </React.Fragment>\n  )\n}\n\nconst HereMapsRoutePresentation = (props: any) => {\n\n  return (\n    <React.Fragment>\n      {props?.paths && props?.paths?.map((route: any, index: number) => {\n        if (!route.path.length) {\n          return (\n            <AntPath\n              key={index}\n              positions={route.points}\n              options={{ color: props.color[index] }}\n            />\n          )\n        } else {\n          return (\n            <AntPath\n              key={index}\n              positions={route.path}\n              options={{ color: props.color[index] }}\n            />\n          )\n        }\n      })}\n    </React.Fragment>\n  )\n}\n\nexport default HereMapsRouteContainer\n"]},"metadata":{},"sourceType":"module"}